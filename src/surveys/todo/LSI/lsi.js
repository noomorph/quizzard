/* exported LifeStyleIndex */

function LifeStyleIndex() {
    this.id = 'lsi';
    this.name = 'Индекс жизненного стиля';

    this.instruction = 'Прочтите следующие утверждения. ' +
        'Эти утверждения описывают чувства, которые человек ОБЫЧНО испытывает, или действия, которые он ОБЫЧНО совершает. ' +
        'Если утверждение Вам не соответствует, нажмите кнопку "Нет". Если утверждение Вам соответствует, нажмите на кнопку "Да".';

    this.answers = [
        { value: '+', text: 'Да', cls: 'yes'},
        { value: '-', text: 'Нет', cls: 'no' }
    ];

    this.questions = [
        { text: 'Я очень легкий человек и со мной легко ужиться.' },
        { text: 'Когда я хочу чего-нибудь, я никак не могу дождаться, когда это получу.' },
        { text: 'Всегда существовал человек, на которого я хотел бы походить.' },
        { text: 'Люди не считают меня эмоциональным человеком.' },
        { text: 'Я выхожу из себя, когда смотрю фильмы непристойного содержания.' },
        { text: 'Я редко помню свои сны.' },
        { text: 'Меня бесят люди, которые всеми вокруг командуют.' },
        { text: 'Иногда у меня появляется сильное желание пробить стену кулаком.' },
        { text: 'Меня раздражает тот факт, что люди слишком много задаются.' },
        { text: 'В мечтах я всегда в центре внимания.' },
        { text: 'Я человек, который никогда не плачет.' },
        { text: 'Необходимость пользоваться общественным туалетом, заставляет меня совершать над собой усилие.' },
        { text: 'Я всегда готов выслушать обе стороны во время спора,' },
        { text: 'Меня легко вывести из себя.' },
        { text: 'Когда кто-нибудь толкает меня в толпе, я чувствую, что готов толкнуть его в ответ.' },
        { text: 'Многое во мне людей восхищает.' },
        { text: 'Я полагаю, что лучше хорошенько обдумать что-нибудь до конца, чем приходить в ярость.' },
        { text: 'Я много болею.' },
        { text: 'У меня плохая память на лица.' },
        { text: 'Когда меня отвергают, у меня появляются мысли о самоубийстве.' },
        { text: 'Когда я слышу сальности, я очень смущаюсь.' },
        { text: 'Я всегда вижу светлую сторону вещей.' },
        { text: 'Я ненавижу злобных людей.' },
        { text: 'Мне трудно избавиться от чего-либо, что принадлежит мне.' },
        { text: 'Я с трудом запоминаю имена.' },
        { text: 'У меня склонность к излишней импульсивности.' },
        { text: 'Люди, которые добиваются своего криком и воплями, вызывают у меня отвращение.' },
        { text: 'Я свободен от предрассудков.' },
        { text: 'Мне крайне необходимо, чтобы люди говорили мне о моей сексуальной привлекательности.' },
        { text: 'Когда я собираюсь в поездку, я планирую каждую деталь заранее.' },
        { text: 'Иногда мне хочется, чтобы атомная бомба разрушила весь мир.' },
        { text: 'Порнография отвратительна.' },
        { text: 'Когда я чем-нибудь расстроен, я много ем.' },
        { text: 'Люди мне никогда не надоедают.' },
        { text: 'Многое из своего детства я не могу вспомнить.' },
        { text: 'Когда я собираюсь в отпуск, я обычно беру с собой работу.' },
        { text: 'В своих фантазиях я совершаю великие поступки.' },
        { text: 'В большинстве своем люди раздражают меня, так как они слишком эгоистичны.' },
        { text: 'Прикосновение к чему-нибудь осклизлому, скользкому вызывает у меня отвращение.' },
        { text: 'Если кто-нибудь надоедает мне, я не говорю это ему, а стремлюсь выразить свое недовольство кому-нибудь другому.' },
        { text: 'Я полагаю, что люди обведут вас вокруг пальца, если вы не будете осторожны.' },
        { text: 'Мне требуется много времени, чтобы разглядеть плохие качества в других людях.' },
        { text: 'Я никогда не волнуюсь, когда читаю или слышу о какой-либо трагедии.' },
        { text: 'В споре я обычно более логичен, чем другой человек.' },
        { text: 'Мне совершенно необходимо слышать комплименты.' },
        { text: 'Беспорядочность отвратительна.' },
        { text: 'Когда я веду машину, у меня иногда появляется сильное желание толкнуть другую машину.' },
        { text: 'Иногда, когда у меня что-нибудь не получается, я злюсь.' },
        { text: 'Когда я вижу кого-нибудь в крови, это меня почти не беспокоит.' },
        { text: 'У меня портится настроение, и я раздражаюсь, когда на меня не обращают внимание.' },
        { text: 'Люди говорят мне, что я всему верю.' },
        { text: 'Я ношу одежду, которая скрывает мои недостатки.' },
        { text: 'Мне очень трудно пользоваться неприличными словами.' },
        { text: 'Мне кажется, я много спорю с людьми.' },
        { text: 'Меня отталкивает от людей то, что они неискренни.' },
        { text: 'Люди говорят мне, что я слишком беспристрастен во всем.' },
        { text: 'Я знаю, что мои моральные стандарты више, чем у большинства других людей.' },
        { text: 'Когда я не могу справиться с чем-либо, я готов заплакать.' },
        { text: 'Мне кажется, что я не могу выражать свои эмоции.' },
        { text: 'Когда кто-нибудь толкает меня, я прихожу в ярость.' },
        { text: 'То, что мне не нравится, я выбрасываю из головы.' },
        { text: 'Я очень редко испытываю чувства привязанности.' },
        { text: 'Я терпеть не могу людей, которые всегда стараются быть в центре внимания.' },
        { text: 'Я многое коллекционирую.' },
        { text: 'Я работаю более упорно, чем большинство людей, для того, чтобы добиться результатов в области, которая меня интересует.' },
        { text: 'Звуки детского плача не беспокоят меня.' },
        { text: 'Я бываю так сердит, что мне хочется крушить все вокруг.' },
        { text: 'Я всегда оптимистичен.' },
        { text: 'Я много лгу.' },
        { text: 'Я больше привязан к самому процессу работы, чем к отношениям, которые складываются вокруг нее.' },
        { text: 'В основном люди несносны.' },
        { text: 'Я бы ни за что не пошел на фильм, в котором слишком много сексуальных сцен.' },
        { text: 'Меня раздражает то, что людям нельзя доверять.' },
        { text: 'Я буду делать все, чтобы произвести хорошее впечатление.' },
        { text: 'Я не понимаю некоторых своих поступков.' },
        { text: 'Я через силу смотрю кинокартины, в которых много насилия.' },
        { text: 'Я думаю, что ситуация в мире намного лучше, чем большинство людей думают.' },
        { text: 'Когда у меня неудача, я не могу сдержать плохого настроения.' },
        { text: 'То, как люди одеваются сейчас на пляже - неприлично.' },
        { text: 'Я не позволяю своим эмоциям захватывать меня.' },
        { text: 'Я всегда планирую наихудшее, с тем, чтобы не быть застигнутым врасплох.' },
        { text: 'Я живу так хорошо, что многие люди хотели бы оказаться в моем положении.' },
        { text: 'Как-то я был так сердит, что сильно саданул по чему-то и случайно поранил себя.' },
        { text: 'Я испытываю отвращение, когда сталкиваюсь с людьми низкого морального уровня.' },
        { text: 'Я почти ничего не помню о своих первых годах в школе.' },
        { text: 'Когда я расстроен, я невольно поступаю как ребенок.' },
        { text: 'Я предпочитаю больше говорить о своих мыслях, чем о своих чувствах.' },
        { text: 'Мне кажется, что я не могу закончить ничего из того, что начал.' },
        { text: 'Когда я слышу о жестокостях, это не трогает меня.' },
        { text: 'В моей семье почти никогда не противоречат друг другу.' },
        { text: 'Я много кричу на людей.' },
        { text: 'Ненавижу людей, которые топчут других, чтобы продвинуться вперед.' },
        { text: 'Когда я расстроен, я часто напиваюсь.' },
        { text: 'Я счастлив, что у меня меньше проблем, чем у большинства людей.' },
        { text: 'Когда что-нибудь расстраивает меня, я сплю более чем обычно.' },
        { text: 'Я нахожу отвратительным, что большинство людей лгут, для того, чтобы добиться успеха.' },
        { text: 'Я говорю много неприличных слов.' }
    ];

    this.scales = {
        'A': { score: 0, description: 'Отрицание' },
        'B': { score: 0, description: 'Вытеснение' },
        'C': { score: 0, description: 'Регрессия' },
        'D': { score: 0, description: 'Компенсация' },
        'E': { score: 0, description: 'Проекция' },
        'F': { score: 0, description: 'Замещение' },
        'G': { score: 0, description: 'Интеллектуализация' },
        'H': { score: 0, description: 'Реактивные образования' }
    };

    this.interpretation = [
        'A', 'C', 'D', 'G', 'H', 'B', 'E', 'F', 'E', 'D', 'B', 'H', 'G', 'C',
        'F', 'A', 'G', 'C', 'B', 'F', 'H', 'A', 'E', 'D', 'B', 'C', 'E', 'A',
        'D', 'G', 'F', 'H', 'C', 'A', 'B', 'G', 'D', 'E', 'H', 'F', 'E', 'A',
        'B', 'G', 'D', 'H', 'F', 'C', 'B', 'C', 'A', 'D', 'H', 'F', 'E', 'G',
        'H', 'C', 'B', 'F', 'A', 'G', 'E', 'D', 'D', 'B', 'F', 'A', 'C', 'G',
        'E', 'H', 'E', 'D', 'B', 'F', 'A', 'C', 'H', 'G', 'G', 'A', 'F', 'E',
        'B', 'C', 'G', 'C', 'B', 'A', 'F', 'E', 'C', 'A', 'C', 'E', 'F'
    ];

    this.calculate = function () {
        var key, scale, i;

        for (key in this.scales) {
            if (this.scales.hasOwnProperty(key)) {
                this.scales[key].score = 0;
            }
        }

        for (i = 0; i < this.questions.length; i++) {
            if (this.questions[i].answer() === '+') {
                key = this.interpretation[i];
                scale = this.scales[key];
                scale.score += 1;
            }
        }
    };

    this.t = {
        'A': [3, 13, 27, 39, 50, 61, 79, 84, 90, 97, 98, 99],
        'B': [2, 8, 25, 42, 63, 76, 87, 92, 97, 98, 99],
        'C': [2, 6, 19, 35, 53, 70, 80, 85, 88, 95, 97, 99],
        'D': [5, 20, 37, 63, 78, 88, 95, 97, 99],
        'E': [1, 5, 6, 7, 12, 20, 27, 36, 46, 64, 72, 90, 96, 99],
        'F': [6, 23, 37, 48, 65, 77, 86, 93, 97, 98, 99],
        'G': [0, 3, 6, 17, 28, 42, 59, 76, 87, 92, 97, 99],
        'H': [7, 19, 39, 61, 76, 91, 97, 98, 99]
    };

    this.correct = function () {
        var key, score, t = this.t, s;
        for (key in t) {
            if (t.hasOwnProperty(key)) {
                s = this.scales[key];
                score = Math.min(s.score, t[key].length - 1);
                s.tscore = t[key][score];
            }
        }
    };
}

(this.surveys = this.surveys || []).push(new LifeStyleIndex());
